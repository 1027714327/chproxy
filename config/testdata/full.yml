log_debug: true

server:
  http:
    listen_addr: ":9090"
    allowed_networks: ["127.0.0.1/24"]

  https:
    listen_addr: ":443"
    autocert:
      cache_dir: "certs_dir"
      allowed_hosts: ["example.com"]

  metrics:
    allowed_networks: ["127.0.0.1/24"]

users:
  - name: "web"
    password: "password"
    to_cluster: "second cluster"
    to_user: "web"
    deny_http: true

  - name: "default"
    to_cluster: "second cluster"
    to_user: "default"
    allowed_networks: ["127.0.0.1", "1.2.3.0/24"]
    max_concurrent_queries: 4
    max_execution_time: 1m
    deny_https: true

clusters:
  - name: "first cluster"
    scheme: "http"
    nodes: ["127.0.0.1:8123", "127.0.0.2:8123", "127.0.0.3:8123"]
    heartbeat_interval: 1m
    kill_query_user:
      name: "default"
      password: "password"
    users:
      - name: "web"
        password: "password"
        max_concurrent_queries: 4
        max_execution_time: 1m

  - name: "second cluster"
    scheme: "https"
    nodes: ["127.0.1.1:8123", "127.0.1.2:8123"]
    users:
      - name: "default"
        max_concurrent_queries: 4
        max_execution_time: 1m

      - name: "web"
        max_concurrent_queries: 4
        max_execution_time: 10s